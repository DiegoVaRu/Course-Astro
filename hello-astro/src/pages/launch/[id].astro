---
import Layout from "../../layouts/Layout.astro";
import { getLaunchById } from "../../services/spacex";
import { getLatestLaunches } from "../../services/spacex";

export async function getStaticPaths() {
    const launches = await getLatestLaunches();

    return {
        paths: launches.map(launch => ({
            params: { id: launch.id }
        })),
        fallback: false, // No permite rutas no definidas en el paths
    };
}

const { id } = Astro.params

const launch = await getLaunchById({ id })
---

<Layout title=`Lanzamiento ${id}`>
    <article>
        {launch.id}
    </article>
</Layout>