---
import type { GetStaticPaths } from "astro";
import Layout from "../../layouts/Layout.astro";
import { getLauncheById } from "../../services/spacex";
import { getLatestLaunches } from "../../services/spacex";

const { id } = Astro.params

let launch
if (id) {
    launch = await getLauncheById({ id })
}

export const getStaticPaths = (async () => {
    const launches = await getLatestLaunches()

    return launches.map(launch => ({
        params: {id: launch.id}
    }));
}) satisfies GetStaticPaths;
---

<Layout title=`Lanzamiento ${id}`>
    <article>
        {launch?.id}
    </article>
</Layout>